
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://microsoft.github.io/copilot-camp/ja/pages/make/copilot-studio/09-agent-to-agent/">
      
      
      
      
        
          <link rel="alternate" href="../../../../../pages/make/copilot-studio/09-agent-to-agent/" hreflang="en">
        
          <link rel="alternate" href="./" hreflang="ja">
        
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ラボ MCS9 - エージェント間通信 (プレビュー) - Copilot Developer Camp</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/labStyles.css">
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mcs9-" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../../../" title="Copilot Developer Camp" class="md-header__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../../assets/images/tent-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Copilot Developer Camp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ラボ MCS9 - エージェント間通信 (プレビュー)
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../../../pages/make/copilot-studio/09-agent-to-agent/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ja" class="md-select__link">
              Japanese (日本語)
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  ようこそ

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
  
  Maker 向けエージェントの作成

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../extend-m365-copilot/" class="md-tabs__link">
          
  
  
  宣言型エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../custom-engine/" class="md-tabs__link">
          
  
  
  カスタム エンジン エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../beyond-agents/" class="md-tabs__link">
          
  
  
  AI の概念と手法

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../resources/" class="md-tabs__link">
        
  
  
    
  
  動画など

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../" title="Copilot Developer Camp" class="md-nav__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../../assets/images/tent-small.png" alt="logo">

    </a>
    Copilot Developer Camp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ようこそ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Maker 向けエージェントの作成
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Maker 向けエージェントの作成
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot 用エージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB - Copilot Studio エージェント ビルダーによるエージェント作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB1 - 最初のエージェント構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MCS - Microsoft Copilot Studio の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS1 - 最初のエージェント
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MCS2 - トピックの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS3 - ツールの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-extending-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS4 - Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-connectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS5 - Power Platform カスタム コネクタ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS6 - MCP サーバーの利用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-autonomous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS7 - 自律型エージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS8 - RAG のための Azure AI Search 統合
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MSA - SharePoint エージェントの理解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MSA1 - はじめての SharePoint エージェント作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/02-sharing-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MSA2 - SharePoint エージェントの共有
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    セットアップ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    セットアップ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/01-typespec-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - Microsoft 365 Agents Toolkit と TypeSpec 定義による Declarative エージェントの初構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/01a-geolocator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - 指示ベース Geo Locator ゲーム エージェント
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API をゼロから構築して統合
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API をゼロから構築して統合
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/02-build-the-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E2 - API の構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/03-add-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E3 - 宣言型 エージェント と API プラグインの追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/04-enhance-api-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E4 - API とプラグインを拡張する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/05-add-adaptive-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab E5 - Adaptive Cards の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06a-add-authentication-ttk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6a - Entra ID 認証を OAuth で追加 (Agents Toolkit)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    認証 (旧ラボ)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    認証 (旧ラボ)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06b-add-authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6b - OAuth を使用した Entra ID 認証の追加 (手動セットアップ)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06c-add-sso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6c - Entra ID 認証と Single Sign-on の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    インテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    インテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/07-add-graphconnector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E7 - 統合: Microsoft Copilot Connector を使用して Trey Genie にナレッジ機能を追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    カスタム エンジン エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    カスタム エンジン エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    カスタムエンジン エージェントの構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    M365 Agents SDK ラボ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    M365 Agents SDK ラボ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イントロ - M365 Agents SDK と Semantic Kernel を使用したエージェント構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA0 - 前提条件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/01-agent-in-foundry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA1 - Microsoft Foundry でエージェントを準備する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/02-agent-with-agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA2 - M365 Agents SDK を使用して最初のエージェントを構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/03-agent-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA3 - Microsoft Foundry エージェントを M365 Agents SDK と統合
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/04-bring-agent-to-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MBA4 - エージェントを Copilot Chat に導入
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI の概念と手法
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI の概念と手法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../beyond-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    始めてみましょう
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../beyond-agents/beginner-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エージェント指示ラボ - エージェント指示の改善（初心者向け）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    動画など
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="mcs9-">ラボ MCS9 - エージェント間通信 (プレビュー)</h1>
<p>このラボでは、Microsoft Copilot Studio でエージェント同士が通信する方法を学習します。前のラボで作成した HR Candidate Management エージェントのデータを利用する、特化型の Interview Scheduler エージェントを構築します。Interview Scheduler エージェントは候補者データを自動で処理し、選定された候補者に対して面接ミーティングを送信します。これにより、モジュール化されたエージェント同士が連携して、包括的なビジネス ソリューションを実現できることを示します。</p>
<div class="lab-intro-video">
    <div style="flex: 1; min-width: 0;">
        <iframe  src="//www.youtube.com/embed/placeholder" frameborder="0" allowfullscreen style="width: 100%; aspect-ratio: 16/9;">          
        </iframe>
          <div>このビデオでラボの概要を確認できます。</div>
    </div>
    <div style="flex: 1; min-width: 0;">
   <div class="floatwide">
   <div class="cc-lab-toc mcs-path">
     <img src="/copilot-camp/assets/images/path-icons/MCS-path-heading.png"></img>
     <div>
       <p>Microsoft Copilot Studio で エージェントを構築したい場合は、これらの ラボ を実施してください</p>
       <ul>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/00-prerequisites/">MCS0 - セットアップ</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/01-first-agent/">MCS1 - 最初の エージェント</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/02-topics/">MCS2 - トピックの定義</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/03-actions/">MCS3 - ツールの定義</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/04-extending-m365-copilot/">MCS4 - Microsoft 365 Copilot を拡張する</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/05-connectors/">MCS5 - カスタム コネクタの利用</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/06-mcp/">MCS6 - MCP サーバーの利用</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/07-autonomous/">MCS7 - 自律型 エージェントの作成</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/08-rag/">MCS8 - RAG のための Azure AI Search 統合</a></li>
       </ul>
     </div>
   </div>

   <script>
   (() => {

   // This script decorates the table of contents with a "you are here" indicator.
   const toc = document.getElementsByClassName('cc-lab-toc');
   for (const div of toc) {
       const lis = div.querySelectorAll('li');
       for (const li of lis) {
           const anchor = li.querySelector('a');
           if (location.href.includes(anchor.href)) {
               const span = document.createElement("span");
               span.innerHTML = "YOU&nbsp;ARE&nbsp;HERE";
               li.appendChild(span);
           }
       }    
   }
   })();
   </script>

   <!-- 
     <div class="cc-mcs-lab-steps">
       <h4>目次</h4>
       <cc-table-of-contents />
     </div> -->
   </div>
    </div>
</div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>本ラボは、特に <a href="../06-mcp" target="_blank">Lab MCS6 - Consuming an MCP server</a> に基づいています。前のラボで作成した HR MCP サーバーと「HR Agent with MCP」エージェントが動作している必要があります。</p>
</div>
<p>このラボで学習する内容:</p>
<ul>
<li>Microsoft Copilot Studio で子エージェントを作成する方法</li>
<li>エージェント間通信を構成する方法</li>
<li>複雑なワークフロー向けにモジュール型エージェント アーキテクチャを設計する方法</li>
<li>特化型エージェント間でハンドオフ メカニズムを実装する方法</li>
<li>エンドツーエンドのビジネス プロセスを複数エージェントで調整する方法</li>
</ul>
<h2 id="exercise-1">Exercise 1: エージェント間アーキテクチャの理解</h2>
<p>この演習では、エージェント間通信の概念を理解し、面接スケジューリング ソリューションのアーキテクチャを設計します。</p>
<h3 id="step-1">Step 1: エージェント通信パターンの確認</h3>
<p>Microsoft Copilot Studio では、エージェント連携のために主に次の 2 パターンをサポートしています。</p>
<ol>
<li><strong>子エージェント</strong>: 親エージェント内に存在する軽量エージェントで、親ソリューションの一部として管理されます  </li>
<li><strong>接続エージェント</strong>: 独立した本格的エージェントで、個別に発行・管理できます  </li>
</ol>
<p>本ラボでは次の子エージェント アーキテクチャを作成します。</p>
<ul>
<li><strong>メイン エージェント</strong>: Interview Coordinator (全体プロセスをオーケストレーション)</li>
<li><strong>子エージェント</strong>: Interview Scheduler (ミーティング作成とカレンダー管理を担当)</li>
<li><strong>接続エージェント</strong>: HR Candidate Management (前のラボで作成した既存エージェント)</li>
</ul>
<p>この設計により次のメリットが得られます。</p>
<ul>
<li>役割の明確な分離</li>
<li>HR Candidate Management 機能の再利用性</li>
<li>連携したワークフロー実行</li>
<li>保守性とスケーラビリティに優れたソリューション アーキテクチャ</li>
</ul>
<p><cc-end-step lab="mcs9" exercise="1" step="1" /></p>
<h3 id="step-2">Step 2: 面接プロセス ワークフローの設計</h3>
<p>実装するエージェント間ワークフローは次のように進行します。</p>
<ol>
<li><strong>ユーザー要求</strong>: ユーザーが特定候補者の面接設定を依頼  </li>
<li><strong>メイン エージェント処理</strong>: Interview Coordinator が要求を検証し、候補者を特定  </li>
<li><strong>エージェント ハンドオフ</strong>: メイン エージェントが HR Candidate Management に候補者詳細取得を委任  </li>
<li><strong>データ処理</strong>: 候補者情報を抽出し検証  </li>
<li><strong>子エージェント呼び出し</strong>: Interview Scheduler 子エージェントに候補者データを渡して起動  </li>
<li><strong>ミーティング作成</strong>: 子エージェントがカレンダー ミーティングを作成し招待を送信  </li>
<li><strong>確認</strong>: ユーザーへ面接設定の確認を通知  </li>
</ol>
<p>このワークフローは主要なエージェント間パターンを示します。</p>
<ul>
<li><strong>オーケストレーション</strong>: メイン エージェントが複数サブプロセスを調整  </li>
<li><strong>デリゲーション</strong>: 特定タスクを特化エージェントに委任  </li>
<li><strong>データ フロー</strong>: 情報がエージェント間でシームレスに流れる  </li>
<li><strong>イベント駆動処理</strong>: エージェントが特定トリガーと条件に応答  </li>
</ul>
<p><cc-end-step lab="mcs9" exercise="1" step="2" /></p>
<h3 id="step-3">Step 3: 前提条件の確認</h3>
<p>次の前提条件を満たしていることを確認してください。</p>
<ul>
<li><strong>Lab MCS6</strong>: HR MCP サーバーが dev tunnel 経由でアクセス可能</li>
<li><strong>Microsoft Graph アクセス</strong>: カレンダー イベント作成およびメール送信の権限</li>
<li><strong>サンプル候補者データ</strong>: 前のラボで HR システムに 2～3 名以上の候補者が登録済み</li>
</ul>
<p>HR MCP サーバーがまだ稼働していることを確認し、停止している場合は MCP サーバー プロジェクトのルート フォルダーで次のコマンドを実行します。</p>
<pre><code class="language-console">dotnet run
</code></pre>
<p>また、dev tunnel がアクティブであることを確認します。</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>以下に示す <code>hr-mcp</code> という名前は、<a href="../06-mcp" target="_blank">Lab MCS6 - Consuming an MCP server</a> で使用した一意の名前に置き換えてください。</p>
</div>
<pre><code class="language-console">devtunnel host hr-mcp
</code></pre>
<p>さらに、HR MCP サーバーを直接テストして候補者データが存在することを確認してください。Interview Scheduler は既存の候補者を前提に動作します。</p>
<p><cc-end-step lab="mcs9" exercise="1" step="3" /></p>
<h2 id="exercise-2-interview-coordinator">Exercise 2: メイン Interview Coordinator エージェントの作成</h2>
<p>この演習では、面接スケジューリング プロセスをオーケストレーションし、他エージェントと連携するメイン エージェントを作成します。</p>
<h3 id="step-1-interview-coordinator">Step 1: Interview Coordinator エージェントの作成</h3>
<p>ブラウザーで <a href="https://copilotstudio.microsoft.com" target="_blank">https://copilotstudio.microsoft.com</a> にアクセスし、職場アカウントでサインインします。</p>
<p><code>Copilot Dev Camp</code> 環境を選択し、<strong>Create</strong> → <strong>New Agent</strong> を選択して新しいエージェントを作成します。</p>
<p><strong>Configure</strong> を選択し、次の設定でメイン コーディネーター エージェントを定義します。</p>
<ul>
<li><strong>Name</strong>: </li>
</ul>
<pre><code class="language-text">Interview Coordinator
</code></pre>
<ul>
<li><strong>Description</strong>: </li>
</ul>
<pre><code class="language-text">Main agent that coordinates interview scheduling by working with HR candidate 
management and interview scheduling child agents to create comprehensive interview workflows
</code></pre>
<ul>
<li><strong>Instructions</strong>: </li>
</ul>
<pre><code class="language-text">You are the Interview Coordinator, responsible for managing end-to-end interview 
scheduling processes. Your role includes:

1. Understanding user requests for interview scheduling
2. Coordinating with the HR Candidate Management agent to retrieve candidate information
3. Delegating to the Interview Scheduler child agent for meeting creation
4. Providing comprehensive feedback to users about scheduled interviews

When a user requests to schedule an interview:
- First, identify and validate the candidate using the HR system
- Extract necessary candidate details (name, email, current role, skills)
- Coordinate with the Interview Scheduler to create the meeting
- Confirm successful scheduling with relevant details

Always ensure proper validation of candidate data and provide clear communication 
throughout the process. Handle errors gracefully and provide informative feedback 
when coordination between agents fails.
</code></pre>
<p><strong>Create</strong> を選択してコーディネーター エージェントを作成します。</p>
<p><cc-end-step lab="mcs9" exercise="2" step="1" /></p>
<h3 id="step-2-ai">Step 2: 生成 AI オーケストレーションの有効化</h3>
<p>エージェント作成後、複数エージェント間のインテリジェントな調整を行えるようオーケストレーション機能を構成します。</p>
<p><strong>Orchestration</strong> セクションで <strong>Use generative AI to determine how best to respond to users and events</strong> が有効になっていることを確認します。これにより、エージェントが子エージェントや接続エージェント間で適切に調整できます。</p>
<p><img alt="Interview Coordinator エージェント設定で、マルチエージェント調整用に生成 AI を有効化している様子。" src="../../../../../assets/images/make/copilot-studio-09/coordinator-agent-01.png" /></p>
<p><strong>Knowledge</strong> セクションでは、必要に応じて面接スケジューリング ガイドラインや社内 HR ポリシーを追加できます。本ラボでは組み込み機能と他エージェント連携に依存します。</p>
<p>変更した場合は <strong>Save</strong> を選択して設定を保存します。</p>
<p>右上の <strong>Settings</strong> を選択し、<strong>Generative AI</strong> セクションを次のように設定します。</p>
<ul>
<li><strong>Use general knowledge</strong>: off  </li>
<li><strong>Use information from the web</strong>: off  </li>
</ul>
<p><img alt="「Generative AI」設定で、一般知識と Web 情報の使用をオフにしている様子。" src="../../../../../assets/images/make/copilot-studio-09/coordinator-agent-02.png" /></p>
<p><strong>Save</strong> を選択して新しい設定を確定します。</p>
<p><cc-end-step lab="mcs9" exercise="2" step="2" /></p>
<h3 id="step-3-hr-candidate-management">Step 3: HR Candidate Management エージェントとの接続</h3>
<p>Interview Coordinator が候補者情報を取得できるよう、既存の HR エージェントと通信する必要があります。1️⃣ <strong>Agents</strong> セクションに移動し、2️⃣ <strong>Add</strong> を選択します。</p>
<p><img alt="他エージェント接続用タブ。「Add」コマンドでエージェントを追加可能。" src="../../../../../assets/images/make/copilot-studio-09/connect-agent-01.png" /></p>
<p>表示されるダイアログで次のオプションから選択します。</p>
<ul>
<li><strong>Create an agent</strong>: 新しい子エージェントを作成  </li>
<li><strong>Copilot Studio</strong>: Copilot Studio で定義済みのエージェントを選択  </li>
<li><strong>Microsoft Fabric</strong>: Microsoft Fabric で構築したエージェントを選択  </li>
</ul>
<p><strong>Copilot Studio</strong> を選択します。</p>
<p><img alt="接続するエージェント種別を選択するダイアログ。「Copilot Studio」が強調表示。" src="../../../../../assets/images/make/copilot-studio-09/connect-agent-02.png" /></p>
<p>利用可能なエージェント一覧から、前のラボで作成した <strong>HR Candidate Management</strong> エージェント (または同等の名前) を選択します。表示されない場合は、発行済みで他エージェントからの接続を許可しているか確認してください。</p>
<p><img alt="接続可能なエージェント一覧。「HR Candidate Management」エージェントが表示。" src="../../../../../assets/images/make/copilot-studio-09/connect-agent-03.png" /></p>
<p>接続エージェントを構成します。</p>
<ul>
<li><strong>Description</strong>: このコンテキストに合わせて説明を更新します。</li>
</ul>
<pre><code class="language-text">HR system integration for retrieving and managing candidate information during 
interview scheduling processes. Provides candidate lookup, data validation, and 
comprehensive candidate details.
</code></pre>
<p>説明はメイン エージェントが接続エージェントを呼び出すタイミングを判断するために使用されます。具体的かつ明確に記述してください。</p>
<ul>
<li><strong>Pass conversation history</strong>: エージェント ハンドオフ時にコンテキストを維持するため有効のままにします</li>
</ul>
<p><img alt="Interview Coordinator に HR Candidate Management エージェントを接続する設定ダイアログ。" src="../../../../../assets/images/make/copilot-studio-09/connect-agent-04.png" /></p>
<p><strong>Add agent</strong> を選択してエージェント間接続を確立します。設定後、現在のエージェントの <strong>Agents</strong> 一覧に表示されます。</p>
<p><cc-end-step lab="mcs9" exercise="2" step="3" /></p>
<h2 id="exercise-3-interview-scheduler">Exercise 3: Interview Scheduler 子エージェントの作成</h2>
<p>この演習では、面接スケジューリングに必要なミーティング作成とカレンダー管理を担当する特化型子エージェントを作成します。</p>
<h3 id="step-1-interview-scheduler">Step 1: Interview Scheduler 子エージェントの作成</h3>
<p>Interview Coordinator エージェントで、1️⃣ <strong>Agents</strong> セクションに移動し、2️⃣ <strong>Add an agent</strong> を選択します。</p>
<p><img alt="メイン エージェントに接続されているエージェント一覧。「Add an agent」コマンドが強調。" src="../../../../../assets/images/make/copilot-studio-09/connect-agent-05.png" /></p>
<p><strong>Create an agent</strong> を選択して新しい子エージェントを作成します。</p>
<p><img alt="エージェント種別の選択ダイアログ。「Create an agent」が強調表示。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-01.png" /></p>
<p>子エージェントを次の設定で構成します。</p>
<ul>
<li><strong>Name</strong>: </li>
</ul>
<pre><code class="language-text">Interview Scheduler
</code></pre>
<ul>
<li>
<p><strong>When will this be used?</strong>: <strong>The agent chooses</strong> を選択し、メイン エージェントからの調整要求に応答できるようにします</p>
</li>
<li>
<p><strong>Description</strong>:</p>
</li>
</ul>
<pre><code class="language-text">Helps scheduling an interview with a candidate. Requires information like the email
of the candidate and the date and time of the meeting.
</code></pre>
<ul>
<li><strong>Instructions</strong>:</li>
</ul>
<pre><code class="language-text">You are the Interview Scheduler, a specialized agent focused on creating and managing 
interview meetings. When invoked by the Interview Coordinator, you:

1. Process candidate information received from the main agent
2. Create appropriate calendar meeting invitations
3. Include relevant candidate details in meeting descriptions
4. Send meeting invitations to appropriate stakeholders
5. Provide confirmation details back to the coordinator

For each interview scheduling request:
- Create a 1-hour meeting slot (suggest next business day if no specific time provided)
- Include candidate name, role, and key skills in the meeting title and description
- Invite the requesting user and any additional specified interviewers
- Set appropriate meeting location (in-person, Teams, etc.)
- Include candidate resume/profile information in meeting notes

Always confirm successful meeting creation with meeting details including date, time, 
attendees, and meeting link if applicable.
</code></pre>
<p><img alt="Interview Scheduler 子エージェントの作成ページ。メッセージ ベース トリガー設定が表示。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-02.png" /></p>
<p>画面右上の <strong>Save</strong> コマンドを選択して子エージェントを保存します。子エージェント作成完了の緑色の確認メッセージが表示されます。</p>
<p><cc-end-step lab="mcs9" exercise="3" step="1" /></p>
<h3 id="step-2_1">Step 2: カレンダー統合の構成</h3>
<p>Interview Scheduler でカレンダー ミーティングを作成できるよう、Microsoft Graph 連携を追加します。</p>
<p>Interview Scheduler 子エージェントの <strong>Tools</strong> セクションで <strong>Add</strong> を選択します。</p>
<ol>
<li>1️⃣ <strong>Connector</strong> を選択して利用可能なコネクタをフィルター  </li>
<li>2️⃣ <strong>Calendar</strong> と検索ボックスに入力し、3️⃣ 検索アイコンを選択  </li>
<li>4️⃣ <strong>Create event (V4)</strong> ツールを選択  </li>
<li>Office 365 Outlook コネクタに接続  </li>
<li>接続完了後、<strong>Add and configure</strong> を選択してツール設定を確定  </li>
</ol>
<p><img alt="「Create event (V4)」ツールを検索するダイアログ。検索フィルター「Calendar」が適用。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-03.png" /></p>
<p>新しいツールの設定パネルが表示されます。<strong>Name</strong> を次の値に更新します。</p>
<pre><code class="language-text">Creates a calendar event
</code></pre>
<p>続いて <strong>Inputs</strong> セクションの <strong>Add input</strong> コマンドを選択し、次の入力を追加します。</p>
<ul>
<li><strong>Required attendees</strong></li>
<li><strong>Body</strong></li>
</ul>
<p><strong>Save</strong> を選択してツールを更新します。</p>
<p><img alt="「Create a calendar event」ツールの最終設定パネル。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-04.png" /></p>
<p>下記スクリーンショットは <strong>Create a calendar event</strong> ツールの <strong>Inputs</strong> の最終設定例です。</p>
<p><img alt="「Create a calendar event」ツールの入力一覧。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-05.png" /></p>
<p>この統合により子エージェントは次を実行できます。</p>
<ul>
<li>カレンダー イベントの作成</li>
<li>ミーティング招待の送信</li>
<li>ミーティング詳細および参加者の管理</li>
</ul>
<p><cc-end-step lab="mcs9" exercise="3" step="2" /></p>
<h3 id="step-3_1">Step 3: 子エージェント設定の最終調整</h3>
<p>左上のツール名横にある矢印で <strong>Overview</strong> タブに戻り、Interview Scheduler 子エージェントの設定を完了します。</p>
<p><img alt="子エージェントの追加設定パネル。優先度やアクティベーション条件を設定可能。" src="../../../../../assets/images/make/copilot-studio-09/child-agent-06.png" /></p>
<ol>
<li><strong>Details</strong> セクションを開き <strong>Advanced</strong> パネルを展開し、<strong>Priority</strong> を <strong>1</strong> に設定して面接スケジューリング タスクの優先度を高くします  </li>
<li><strong>Condition</strong>: 必要に応じて、面接関連キーワードを含むメッセージでのみ起動するなど条件を追加  </li>
<li><strong>Additional Details</strong>: 特定のアクティビティ種別やカスタム クライアント イベントなどを設定する場合はここで構成  </li>
<li><strong>Enabled</strong> トグルがオンになっていることを確認  </li>
<li><strong>Save</strong> を選択して子エージェントを作成  </li>
</ol>
<p>Interview Scheduler 子エージェントの設定が完了し、メイン Interview Coordinator エージェントから呼び出された際にミーティング作成を担当します。</p>
<p><cc-end-step lab="mcs9" exercise="3" step="3" /></p>
<h2 id="exercise-4">Exercise 4: エージェント間ワークフローの実装</h2>
<p>この演習では、面接スケジューリングの完全なエージェント間ワークフローを実装しテストします。</p>
<h3 id="step-1-instructions">Step 1: Instructions でのエージェント参照設定</h3>
<p>適切なエージェント調整を行うため、メイン エージェントの Instructions に子エージェントと接続エージェントを参照します。</p>
<p>Interview Coordinator エージェントの <strong>Overview</strong> セクションで <strong>Instructions</strong> フィールドを <strong>Edit</strong> コマンドで更新します。</p>
<ol>
<li>参照を挿入したい位置にカーソルを置く  </li>
<li><code>/</code> を入力して参照メニューを開く  </li>
<li><strong>Interview Scheduler</strong> 子エージェントを選択  </li>
<li><strong>HR Candidate Management</strong> 接続エージェントも参照  </li>
</ol>
<p>更新後の Instructions は次のようになります。</p>
<pre><code class="language-text">You are the Interview Coordinator, responsible for managing end-to-end interview 
scheduling processes. Your role includes:

1. Understanding user requests for interview scheduling
2. Coordinating with /HR Candidate Management agent to retrieve candidate information
3. Delegating to /Interview Scheduler child agent for meeting creation
4. Providing comprehensive feedback to users about scheduled interviews

When a user requests to schedule an interview:
- First, use /HR Candidate Management to identify and validate the candidate
- Extract necessary candidate details (name, email, current role, skills)
- Coordinate with /Interview Scheduler to create the meeting with candidate details
- Confirm successful scheduling with relevant details

Always ensure proper validation of candidate data and provide clear communication 
throughout the process. Handle errors gracefully and provide informative feedback 
when coordination between agents fails.
</code></pre>
<p><img alt="Instructions フィールドで、スラッシュ表記を使って接続エージェントと子エージェントを参照している様子。" src="../../../../../assets/images/make/copilot-studio-09/coordinator-agent-03.png" /></p>
<p><strong>Save</strong> を選択してエージェント参照を含む Instructions を更新します。</p>
<p><cc-end-step lab="mcs9" exercise="4" step="1" /></p>
<h2 id="exercise-5">Exercise 5: エージェントのテスト</h2>
<p>この演習では、実際に予定に面接を登録してエージェントをテストします。</p>
<h3 id="step-1_1">Step 1: エージェント間通信のテスト</h3>
<p>すべてのコンポーネント間で適切に調整されるか、完全なエージェント間ワークフローをテストします。</p>
<ol>
<li><strong>Interview Coordinator をテスト</strong>: テスト パネルで次のように入力します。</li>
</ol>
<pre><code class="language-text">Retrieve information about Alice Johnson and schedule an interview with her for next Monday 10am.
</code></pre>
<ol>
<li><strong>エージェント調整を観察</strong>: テスト パネルで以下が行われる様子を確認します。  </li>
<li>要求の処理  </li>
<li>HR Candidate Management エージェントを呼び出し John Smith を検索  </li>
<li>候補者詳細の取得  </li>
<li>Interview Scheduler 子エージェントの起動  </li>
<li>カレンダー ミーティングの作成  </li>
<li>確認メッセージの表示  </li>
</ol>
<p><img alt="複数エージェントが連携して面接をスケジュールするワークフローを示すテスト パネル。" src="../../../assets/images/make/copilot-studio-09/coordinator-agent-04.png" /></p>
<p><cc-end-step lab="mcs9" exercise="5" step="1" /></p>
<p><span style="font-size: large; font-weight: bold; color: #1c8fd2;">おめでとうございます！</span></p>
<p>ラボ MCS9 - エージェント間通信 を完了しました！</p>
<p>このラボでは次を学びました。</p>
<ul>
<li>エージェント間通信アーキテクチャの設計と実装</li>
<li>メイン エージェント ソリューション内で特化タスクを担う子エージェントの作成</li>
<li>既存エージェントを接続してエージェント間でデータ共有と調整を実現</li>
<li>複数の特化エージェントにまたがる複雑なワークフローの実装</li>
</ul>
<p>あなたの Interview Coordinator エージェントは、高度なエージェント オーケストレーション パターンを実証し、HR Candidate Management システムと特化型 Interview Scheduler 機能を連携して包括的な面接スケジューリング自動化を提供します。</p>
<p>本ラボで学んだエージェント間パターンは、モジュール化された特化エージェントが連携し、エンドツーエンドのソリューションを実現する他の多くのビジネス シナリオにも適用できます。</p>
<!-- <cc-award path="Make" /> -->

<p><img src="https://m365-visitor-stats.azurewebsites.net/copilot-camp/make/copilot-studio/09-agent-to-agent--ja" /></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "toc.integrate", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../../../javascripts/cc-award.js"></script>
      
        <script src="../../../../../javascripts/cc-next.js"></script>
      
        <script src="../../../../../javascripts/cc-lab-step.js"></script>
      
        <script src="../../../../../javascripts/cc-card.js"></script>
      
    
  </body>
</html>