
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://microsoft.github.io/copilot-camp/ja/pages/make/copilot-studio/08-rag/">
      
      
        <link rel="prev" href="../07-autonomous/">
      
      
        <link rel="next" href="../../sharepoint-agents/">
      
      
        
          <link rel="alternate" href="../../../../../pages/make/copilot-studio/08-rag/" hreflang="en">
        
          <link rel="alternate" href="./" hreflang="ja">
        
      
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>ラボ MCS8 - RAG のための Azure AI Search 統合 - Copilot Developer Camp</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../stylesheets/labStyles.css">
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mcs8-rag-azure-ai-search" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../../../" title="Copilot Developer Camp" class="md-header__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../../assets/images/tent-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Copilot Developer Camp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ラボ MCS8 - RAG のための Azure AI Search 統合
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../../../pages/make/copilot-studio/08-rag/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ja" class="md-select__link">
              Japanese (日本語)
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../" class="md-tabs__link">
        
  
  
    
  
  ようこそ

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Maker 向けエージェントの作成

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../extend-m365-copilot/" class="md-tabs__link">
          
  
  
  宣言型エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../custom-engine/" class="md-tabs__link">
          
  
  
  カスタム エンジン エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../beyond-agents/" class="md-tabs__link">
          
  
  
  AI の概念と手法

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../resources/" class="md-tabs__link">
        
  
  
    
  
  動画など

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../" title="Copilot Developer Camp" class="md-nav__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../../assets/images/tent-small.png" alt="logo">

    </a>
    Copilot Developer Camp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ようこそ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Maker 向けエージェントの作成
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Maker 向けエージェントの作成
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot 用エージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB - Copilot Studio エージェント ビルダーによるエージェント作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent-builder/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB1 - 最初のエージェント構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MCS - Microsoft Copilot Studio の概要
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS1 - 最初のエージェント
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MCS2 - トピックの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS3 - ツールの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-extending-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS4 - Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-connectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS5 - Power Platform カスタム コネクタ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS6 - MCP サーバーの利用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-autonomous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS7 - 自律型エージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS8 - RAG のための Azure AI Search 統合
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS8 - RAG のための Azure AI Search 統合
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目次">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目次
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#exercise-1-azure-ai-search" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exercise 1: Azure AI Search サービスのセットアップ
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exercise 2: 検索インデックスの作成とデータ投入
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-3-rag" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exercise 3: RAG 対応エージェントの作成
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercise-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Exercise 4: エージェントのテスト
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MSA - SharePoint エージェントの理解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MSA1 - はじめての SharePoint エージェント作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sharepoint-agents/02-sharing-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MSA2 - SharePoint エージェントの共有
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    セットアップ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    セットアップ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/01-typespec-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - Microsoft 365 Agents Toolkit と TypeSpec 定義による Declarative エージェントの初構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/01a-geolocator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - 指示ベース Geo Locator ゲーム エージェント
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API をゼロから構築して統合
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API をゼロから構築して統合
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/02-build-the-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E2 - API の構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/03-add-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E3 - 宣言型 エージェント と API プラグインの追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/04-enhance-api-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E4 - API とプラグインを拡張する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/05-add-adaptive-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab E5 - Adaptive Cards の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06a-add-authentication-ttk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6a - Entra ID 認証を OAuth で追加 (Agents Toolkit)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    認証 (旧ラボ)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    認証 (旧ラボ)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06b-add-authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6b - OAuth を使用した Entra ID 認証の追加 (手動セットアップ)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/06c-add-sso/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6c - Entra ID 認証と Single Sign-on の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    インテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    インテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../extend-m365-copilot/07-add-graphconnector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E7 - 統合: Microsoft Copilot Connector を使用して Trey Genie にナレッジ機能を追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    カスタム エンジン エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    カスタム エンジン エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    カスタムエンジン エージェントの構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    M365 Agents SDK ラボ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    M365 Agents SDK ラボ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    イントロ - M365 Agents SDK と Semantic Kernel を使用したエージェント構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA0 - 前提条件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/01-agent-in-foundry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA1 - Azure AI Foundry でエージェントを準備する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/02-agent-with-agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA2 - M365 Agents SDK を使用して最初のエージェントを構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/03-agent-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA3 - Azure AI Foundry エージェントを M365 Agents SDK と統合
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../custom-engine/agents-sdk/04-bring-agent-to-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MBA4 - エージェントを Copilot Chat に導入
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI の概念と手法
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI の概念と手法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../beyond-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    始めてみましょう
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../beyond-agents/beginner-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エージェント指示ラボ - エージェント指示の改善（初心者向け）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    動画など
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="mcs8-rag-azure-ai-search">ラボ MCS8 - RAG のための Azure AI Search 統合</h1>
<p>このラボでは、Azure AI Search を使用して Retrieval-Augmented Generation (RAG) 機能を Microsoft Copilot Studio エージェントに強化する方法を学びます。ベクトル検索を活用して候補者ドキュメントを検索し、組織のデータを裏付けとしたインテリジェントかつコンテキストに沿った応答を返す、専門的な HR Knowledge エージェントを作成します。このラボでは、Copilot Studio の会話機能と Azure AI Search の高度な検索機能を組み合わせた、パワフルな AI エージェントの作成方法を説明します。</p>
<div class="lab-intro-video">
    <!-- <div style="flex: 1; min-width: 0;">
        <iframe  src="//www.youtube.com/embed/placeholder" frameborder="0" allowfullscreen style="width: 100%; aspect-ratio: 16/9;">          
        </iframe>
          <div>Get a quick overview of the lab in this video.</div>
    </div> -->
    <div style="flex: 1; min-width: 0;">
   <div class="floatwide">
   <div class="cc-lab-toc mcs-path">
     <img src="/copilot-camp/assets/images/path-icons/MCS-path-heading.png"></img>
     <div>
       <p>Microsoft Copilot Studio で エージェントを構築したい場合は、これらの ラボ を実施してください</p>
       <ul>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/00-prerequisites/">MCS0 - セットアップ</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/01-first-agent/">MCS1 - 最初の エージェント</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/02-topics/">MCS2 - トピックの定義</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/03-actions/">MCS3 - ツールの定義</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/04-extending-m365-copilot/">MCS4 - Microsoft 365 Copilot を拡張する</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/05-connectors/">MCS5 - カスタム コネクタの利用</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/06-mcp/">MCS6 - MCP サーバーの利用</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/07-autonomous/">MCS7 - 自律型 エージェントの作成</a></li>
         <li><a href="/copilot-camp/ja/pages/make/copilot-studio/08-rag/">MCS8 - RAG のための Azure AI Search 統合</a></li>
       </ul>
     </div>
   </div>

   <script>
   (() => {

   // This script decorates the table of contents with a "you are here" indicator.
   const toc = document.getElementsByClassName('cc-lab-toc');
   for (const div of toc) {
       const lis = div.querySelectorAll('li');
       for (const li of lis) {
           const anchor = li.querySelector('a');
           if (location.href.includes(anchor.href)) {
               const span = document.createElement("span");
               span.innerHTML = "YOU&nbsp;ARE&nbsp;HERE";
               li.appendChild(span);
           }
       }    
   }
   })();
   </script>

   <!-- 
     <div class="cc-mcs-lab-steps">
       <h4>目次</h4>
       <cc-table-of-contents />
     </div> -->
   </div>
    </div>
</div>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Microsoft Copilot Studio でのエージェント作成と、基本的な Azure リソース管理の経験があることを前提としています。</p>
</div>
<p>このラボで学ぶ内容:</p>
<ul>
<li>Azure AI Search サービスを作成し、ナレッジ インデックスを構成する方法</li>
<li>Azure AI Search を使って PDF ドキュメントをインポートし、ベクトル化する方法</li>
<li>Azure AI Search を Microsoft Copilot Studio のナレッジ ソースとして統合する方法</li>
<li>RAG を活用してインテリジェントなドキュメント検索を行うエージェントを作成する方法</li>
</ul>
<details class="info">
<summary>Retrieval-Augmented Generation (RAG) とは?</summary>
<p>Retrieval-Augmented Generation (RAG) は、言語モデルが生成する回答の品質を向上させる AI 技術です。簡単な例で説明します。</p>
<p>スマート アシスタントが質問に答えるとき、そのアシスタントがすべての情報を知らない場合があります。そこで RAG は、インターネット検索のように大量のドキュメントから情報を検索 (Retrieval) し、その情報を利用してより良い回答を生成 (Generation) します。</p>
<p>RAG は次の 2 ステップを組み合わせています。</p>
<ul>
<li><strong>Retrieval:</strong> 大量データから関連情報を検索  </li>
<li><strong>Generation:</strong> 検索した情報を使って詳細かつ正確な回答を生成  </li>
</ul>
<p>これにより、質問応答、記事執筆、リサーチ支援などで、より有用で正確な回答を提供できます。</p>
<p><em>Doodle to Code の動画で RAG についてさらに学びましょう！</em></p>
<p><iframe src="//www.youtube.com/embed/1k4XGgsqfTM?si=P6O9baroreDKizb" frameborder="0" allowfullscreen></iframe></p>
</details>
<details class="tip">
<summary>Vector Search を使用する利点</summary>
<p>Vector Search は、単なるキーワード一致ではなく「意味」に基づいて情報を高速かつ正確に検索する高度な手法です。従来のテキスト検索がキーワード一致に頼るのに対し、Vector Search は数値ベクトルを用いて、クエリと意味的に近いコンテンツを見つけます。これにより、次のような検索が可能になります。</p>
<ul>
<li><strong>意味・概念の類似性:</strong> 異なる単語でも意味が近いものをマッチ (例: "recruitment" と "hiring")  </li>
<li><strong>多言語コンテンツ:</strong> 異なる言語でも同等の内容を検索 (例: "resume" と "curriculum vitae")  </li>
<li><strong>複数コンテンツ タイプ:</strong> テキスト、PDF など異種フォーマットを横断検索  </li>
</ul>
<p>Vector Search のしくみ:</p>
<ol>
<li><strong>テキストをベクトル化:</strong> テキストやドキュメントを、内容の本質を数値化したベクトルへ変換 (埋め込みモデルを使用)  </li>
<li><strong>ベクトルを保存:</strong> 生成されたベクトルを、効率的に扱えるデータベース (Azure AI Search インデックスなど) に保存  </li>
<li><strong>ベクトル検索:</strong> クエリもベクトル化し、意味的に最も近いベクトルをインデックスから検索  </li>
</ol>
<p>たとえば「software engineering skills」で検索すると、「programming expertise」や「development capabilities」を持つ候補者もヒットします。</p>
</details>
<h2 id="exercise-1-azure-ai-search">Exercise 1: Azure AI Search サービスのセットアップ</h2>
<p>この演習では、RAG 対応エージェントのナレッジ基盤として機能する Azure AI Search サービスを作成・構成します。</p>
<h3 id="step-1-azure-ai-search">Step 1: Azure AI Search サービス リソースの作成</h3>
<p>Microsoft Copilot Studio と統合する前に、ドキュメントを保存・インデックス化する Azure AI Search サービスを設定します。</p>
<p><a href="https://portal.azure.com" target="_blank">Azure Portal</a> で Azure AI Search サービスを次の手順で作成します。</p>
<ol>
<li><strong>Create a resource</strong> を選択し <code>Azure AI Search</code> を検索  </li>
<li>Azure AI Search サービスを選択し <strong>Create</strong>  </li>
<li>
<p>以下を入力し <strong>Review + Create</strong> をクリック  </p>
<ul>
<li><strong>Subscription:</strong> ご利用のサブスクリプション  </li>
<li><strong>Resource group:</strong> 既存のラボと同じリソース グループ、または新規で <code>copilot-camp-rg</code>  </li>
<li><strong>Service name:</strong> <code>copilotcamp-ai-search</code> など一意の名前  </li>
<li><strong>Location:</strong> 他の Azure リソースと同じリージョン  </li>
<li><strong>Pricing tier:</strong> Basic (本ラボでは十分)  </li>
</ul>
</li>
</ol>
<p><img alt="Azure ポータルで Azure AI Search サービス作成画面。サブスクリプション、リソース グループ、サービス名、リージョン、価格帯などが入力済み。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-01.png" /></p>
<p>作成後、リソースを開きます。</p>
<ol>
<li><strong>Overview</strong> で <strong>URL</strong> をコピーして保存  </li>
<li>左ナビの <strong>Settings</strong> → <strong>Keys</strong> で <strong>Primary admin key</strong> をコピー  </li>
</ol>
<p>これらの URL と admin key は、Microsoft Copilot Studio から Azure AI Search に接続するときに使用します。</p>
<p><cc-end-step lab="mcs8" exercise="1" step="1" /></p>
<h3 id="step-2-azure-storage-account">Step 2: Azure Storage Account の作成</h3>
<p>インデックス対象ドキュメントを保存するために、Azure Storage Account が必要です。</p>
<p>Azure Portal で Storage Account を作成します。</p>
<ol>
<li><strong>Create a resource</strong> を選択し <code>Storage Account</code> を検索  </li>
<li>Storage Account を選択し <strong>Create</strong>  </li>
<li>
<p>以下を入力し <strong>Review + Create</strong> をクリック  </p>
<ul>
<li><strong>Subscription:</strong> ご利用のサブスクリプション  </li>
<li><strong>Resource group:</strong> Azure AI Search と同じリソース グループ  </li>
<li><strong>Storage account name:</strong> <code>copilotcampstorage</code> など一意の名前  </li>
<li><strong>Region:</strong> Azure AI Search と同じリージョン  </li>
<li><strong>Preferred storage type:</strong> Azure Blob Storage または Azure Data Lake Storage Gen 2  </li>
<li><strong>Performance:</strong> Standard  </li>
<li><strong>Redundancy:</strong> Locally redundant storage (LRS)  </li>
</ul>
</li>
</ol>
<p><img alt="Azure ポータルで Storage Account 作成画面。基本設定としてサブスクリプション、リソース グループ、アカウント名、リージョン、パフォーマンス、冗長性が設定されている。" src="../../../../../assets/images/make/copilot-studio-08/azure-storage-01.png" /></p>
<p>作成後、このストレージ アカウントに PDF ドキュメントを保存し、Azure AI Search がインデックス化できるようにします。</p>
<p><cc-end-step lab="mcs8" exercise="1" step="2" /></p>
<h3 id="step-3-embedding">Step 3: テキスト埋め込み (Embedding) モデルの作成</h3>
<p>ベクトル検索を有効にするため、Azure OpenAI にテキスト埋め込みモデルを作成し、ドキュメントとクエリをベクトル化します。</p>
<p>Azure OpenAI サービス インスタンスがない場合は、まず作成します。</p>
<ol>
<li>Azure Portal で <strong>Create a resource</strong> → <code>Azure OpenAI</code> を検索  </li>
<li><strong>Azure OpenAI</strong> を選択し <strong>Create</strong>  </li>
<li>
<p>次を入力  </p>
<ul>
<li><strong>Subscription:</strong> ご利用のサブスクリプション  </li>
<li><strong>Resource group:</strong> 他リソースと同じリソース グループ  </li>
<li><strong>Region:</strong> East US、West Europe、South Central US など Azure OpenAI 対応リージョン  </li>
<li><strong>Name:</strong> <code>copilotcamp-openai</code> など  </li>
<li><strong>Pricing tier:</strong> Standard S0  </li>
</ul>
</li>
<li>
<p><strong>Next</strong> を進め <strong>Create</strong>  </p>
</li>
<li>デプロイ完了を待機 (数分かかる場合あり)  </li>
<li>作成後、Azure OpenAI リソースのエンドポイント URL を控える  </li>
</ol>
<p>次に <a href="https://oai.azure.com/portal" target="_blank">Azure AI Foundry</a> にアクセスします。初回アクセス時は先ほど作成した Azure OpenAI インスタンスを選択します。サービス インスタンスを選び、埋め込みモデルを以下の手順で作成します。</p>
<ol>
<li>左ナビで 1️⃣ <strong>Deployments</strong>  </li>
<li>2️⃣ <strong>+ Deploy model</strong>  </li>
<li>3️⃣ <strong>Deploy base model</strong>  </li>
<li>ポップアップで 4️⃣ <code>text-embedding-ada-002</code> を検索  </li>
<li>5️⃣ <strong>Confirm</strong>  </li>
<li>
<p>設定ダイアログで次を入力  </p>
<ul>
<li><strong>Deployment name:</strong> <code>text-embeddings</code>  </li>
<li><strong>Deployment type:</strong> Standard  </li>
<li><strong>Model version:</strong> 2 (Default)  </li>
<li><strong>Content Filter:</strong> DefaultV2  </li>
</ul>
</li>
<li>
<p>6️⃣ <strong>Deploy</strong> を選択し、完了を待機  </p>
</li>
</ol>
<p><img alt="Azure OpenAI のデプロイ画面で text-embedding-ada-002 モデルを設定している様子。モデル選択、バージョン、デプロイタイプ、名前、コンテンツフィルターが設定されている。" src="../../../../../assets/images/make/copilot-studio-08/openai-embedding-01.png" /></p>
<details class="info">
<summary><code>text-embedding-ada-002</code> の機能</summary>
<p><code>text-embedding-ada-002</code> モデルはテキストを数値ベクトルへ変換し、意味的な類似度検索を可能にします。複数言語や多様なコンテンツ タイプを扱え、Azure AI Search と組み合わせることで、文脈に合った関連性の高い検索結果を返します。高度な検索ソリューションや自然言語を理解するアプリ開発に最適です。</p>
</details>
<p>埋め込みモデルは、インデックス化されたドキュメントとユーザー クエリをベクトル化し、意味的類似度を比較するために不可欠です。</p>
<div class="admonition tip">
<p class="admonition-title">ヒント: クォータ制限への対処</p>
<p>「No quota available」と表示された場合は次のいずれかを検討してください。  </p>
<ol>
<li>別リージョンでデプロイ  </li>
<li>Azure OpenAI クォータ管理ページで追加クォータを申請  </li>
<li>使用していないデプロイを削除してリソースを解放  </li>
</ol>
</div>
<p><cc-end-step lab="mcs8" exercise="1" step="3" /></p>
<h2 id="exercise-2">Exercise 2: 検索インデックスの作成とデータ投入</h2>
<p>この演習では、Azure AI Search で検索インデックスを作成し、履歴書ドキュメントをベクトル化して投入します。</p>
<h3 id="step-1">Step 1: サンプル ドキュメントの準備</h3>
<p>本ラボ用に、検索対象となるサンプル履歴書ドキュメントをダウンロードします。<a href="https://github.com/microsoft/copilot-camp/raw/main/src/custom-engine-agent/Lab02-RAG/CareerGenie/fictitious_resumes.zip">fictitious_resumes.zip</a> をダウンロードし、解凍して PDF ファイルを取得してください。</p>
<p>サンプル履歴書には以下のような情報が含まれています。</p>
<ul>
<li>候補者名と連絡先  </li>
<li>技術スキルと専門分野  </li>
<li>職務経験と役割履歴  </li>
<li>学歴  </li>
<li>言語スキル  </li>
<li>資格・認定  </li>
</ul>
<p>これらのファイル内容を確認し、RAG 対応エージェントで検索可能となる情報タイプを把握してください。文書は複数言語で書かれていますが、<code>text-embedding-ada-002</code> とベクトル インデックスでは問題ありません。</p>
<p><cc-end-step lab="mcs8" exercise="2" step="1" /></p>
<h3 id="step-2-storage-account">Step 2: Storage Account へのサンプル ドキュメントのアップロード</h3>
<p>Azure AI Search を使用して、履歴書ドキュメントをベクトル化機能付きでインデックス化します。</p>
<p><a href="https://portal.azure.com/" target="_blank">Azure Portal</a> で Storage Account を開きます。 </p>
<ol>
<li>左ナビ <strong>Data storage</strong> グループの 1️⃣ <strong>Containers</strong>  </li>
<li>コマンド バーの 2️⃣ <strong>+ Add container</strong>  </li>
<li>任意の名前 3️⃣ (例: <code>resumes</code>)  </li>
<li>4️⃣ <strong>Create</strong>  </li>
</ol>
<p><img alt="Azure Storage Account の「Containers」ページで「+ Add container」が強調表示されている。" src="../../../../../assets/images/make/copilot-studio-08/azure-storage-02.png" /></p>
<p>コンテナー作成後、履歴書ファイルをアップロードします。</p>
<ol>
<li>1️⃣ <strong>Upload</strong>  </li>
<li>ドラッグ &amp; ドロップ、または 2️⃣ <strong>Browse for files</strong> でファイル選択  </li>
<li>3️⃣ <strong>Upload</strong> をクリックし完了を待つ  </li>
</ol>
<p><img alt="Azure Storage Account のコンテナーにファイルをアップロードする画面。アップロード手順が強調表示。" src="../../../../../assets/images/make/copilot-studio-08/azure-storage-03.png" /></p>
<p><cc-end-step lab="mcs8" exercise="2" step="2" /></p>
<h3 id="step-3">Step 3: 統合ベクトル化によるインデックス投入</h3>
<p>ファイルをアップロードしたら <a href="https://portal.azure.com/" target="_blank">Azure Portal</a> に戻り、Azure AI Search サービスを開きます。上部コマンド バーから <strong>Import data (new)</strong> を選択します。</p>
<p><img alt="Azure AI Search サービス概要ページ。「Import data (new)」コマンドが強調表示されている。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-02.png" /></p>
<p>データ インポートを設定する新しいページで <strong>Azure Blob Storage</strong> を選択します。</p>
<p><img alt="データインポートのデータ ソース選択ページ。「Azure Blob Storage」が強調表示。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-03.png" /></p>
<p>続いて <strong>RAG</strong> シナリオを選択します。</p>
<p><img alt="ターゲット シナリオ選択ページ。「RAG」が強調表示。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-04.png" /></p>
<p>次の設定で RAG シナリオを構成します。</p>
<ol>
<li>
<p><strong>Configure your Azure Blob Storage</strong>  </p>
<ul>
<li><strong>Subscription:</strong> ご利用のサブスクリプション  </li>
<li><strong>Storage account:</strong> 先ほど作成した Storage Account  </li>
<li><strong>Blob container:</strong> <code>resumes</code> などアップロード先コンテナー  </li>
<li><strong>Blob folder:</strong> フォルダー構成がなければ空欄  </li>
<li><strong>Parsing mode:</strong> <code>Default</code>  </li>
<li><strong>Next</strong> を選択  </li>
</ul>
</li>
<li>
<p><strong>Vectorize your text</strong>  </p>
<ul>
<li><strong>Kind:</strong> Azure OpenAI  </li>
<li><strong>Subscription:</strong> ご利用のサブスクリプション  </li>
<li><strong>Azure Open AI service:</strong> 作成した Azure OpenAI  </li>
<li><strong>Model deployment:</strong> <code>text-embeddings</code>  </li>
<li><strong>Authentication type:</strong> <code>API Key</code>  </li>
<li><code>I acknowledge ...</code> チェック  </li>
<li><strong>Next</strong>  </li>
</ul>
</li>
<li>
<p><strong>Vectorize your images</strong>  </p>
<ul>
<li>画像を処理する場合のみ設定  </li>
<li>ここでは <strong>Next</strong>  </li>
</ul>
</li>
<li>
<p><strong>Advanced ranking and relevancy</strong>  </p>
<ul>
<li>スケジュール更新やセマンティック ランカー、フィールド設定が可能  </li>
<li>ここでは <strong>Next</strong>  </li>
</ul>
</li>
<li>
<p><strong>Review and create</strong>  </p>
<ul>
<li>インデックス等のプレフィックス: 例 <code>resumes</code>  </li>
<li>設定確認後 <strong>Create</strong>  </li>
</ul>
</li>
</ol>
<p><img alt="インデックス作成設定の最終確認ページ。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-05.png" /></p>
<p>インデックス作成後、確認ダイアログが表示されます。<strong>Start searching</strong> をクリックすると検索を試せます。インデックス ページで <strong>Search</strong> を選択し結果を確認します。各レコードに <code>text_vector</code> フィールドがあり、<code>text-embedding-ada-002</code> でベクトル化されたことが分かります。</p>
<p><img alt="Azure AI Search ベクトル インデックスで全件取得結果を表示し、&quot;text_vector&quot; フィールドが強調表示されている。" src="../../../../../assets/images/make/copilot-studio-08/azure-search-06.png" /></p>
<p><cc-end-step lab="mcs8" exercise="2" step="3" /></p>
<h2 id="exercise-3-rag">Exercise 3: RAG 対応エージェントの作成</h2>
<p>この演習では、Azure AI Search インデックスを利用して HR 候補者に関するドキュメント バックの応答を返す Microsoft Copilot Studio エージェントを作成します。</p>
<h3 id="step-1-hr-knowledge">Step 1: HR Knowledge エージェントの作成</h3>
<p><a href="https://copilotstudio.microsoft.com" target="_blank">Microsoft Copilot Studio</a> にアクセスし、ナレッジ検索向けの新しいエージェントを作成します。</p>
<p>作業アカウントで <code>Copilot Dev Camp</code> 環境に入り、新規エージェントを作成:</p>
<ol>
<li><strong>Create</strong> → <strong>+ New agent</strong>  </li>
<li><strong>Configure</strong> を選択し手動設定  </li>
</ol>
<p>エージェントの定義:</p>
<ul>
<li><strong>Name</strong>: </li>
</ul>
<pre><code class="language-text">HR Knowledge Agent
</code></pre>
<ul>
<li><strong>Description</strong>: </li>
</ul>
<pre><code class="language-text">An intelligent HR assistant that searches through candidate documents using advanced 
vector search capabilities to provide contextual, document-backed responses
</code></pre>
<ul>
<li><strong>Instructions</strong>: </li>
</ul>
<pre><code class="language-text">You are an intelligent HR Knowledge Assistant specializing in candidate search. 
You have access to a comprehensive database of candidate resumes through advanced 
vector search capabilities.

When users ask questions, you should:

1. Search through the candidate database using semantic understanding
2. Provide detailed, accurate information based on the indexed documents
3. Always include proper citations and references to source documents
4. Explain your reasoning when matching candidates to requirements
5. Suggest alternative candidates when exact matches aren't available
6. Help users understand the skills and qualifications of different candidates

You excel at:
- Finding candidates with specific technical skills
- Matching language requirements with candidate profiles
- Identifying experience levels and career progression
- Understanding educational backgrounds and certifications
- Semantic search that goes beyond keyword matching

Always provide helpful, accurate information while respecting privacy and being professional.
</code></pre>
<p><img alt="Microsoft Copilot Studio で &quot;HR Knowledge Agent&quot; を作成する画面。名前、説明、指示が入力されている。" src="../../../../../assets/images/make/copilot-studio-08/mcs-agent-01.png" /></p>
<p><strong>Create</strong> を押してエージェントを作成します。</p>
<p>作成後、<strong>Use generative AI to determine how best to respond to users and events</strong> が有効になっていることを確認し、<strong>Details</strong> パネルで <code>GPT-4o</code> モデルが選択されていることを確認します。</p>
<p><img alt="新しいエージェントの設定画面。Generative Orchestrator が有効で GPT-4o モデルが強調表示。" src="../../../../../assets/images/make/copilot-studio-08/mcs-agent-02.png" /></p>
<p><cc-end-step lab="mcs8" exercise="3" step="1" /></p>
<h3 id="step-2-azure-ai-search">Step 2: Azure AI Search をナレッジ ソースとして追加</h3>
<p>Azure AI Search インデックスをエージェントのナレッジ ソースとして統合します。</p>
<p><strong>Knowledge</strong> セクションでインデックスを追加:</p>
<ol>
<li><strong>+ Add knowledge</strong>  </li>
<li><strong>Add knowledge</strong> ダイアログで <strong>Featured</strong>  </li>
<li><strong>Azure AI Search</strong> を選択  </li>
</ol>
<p><img alt="ナレッジ ソース追加画面で Azure AI Search を選択している様子。" src="../../../../../assets/images/make/copilot-studio-08/mcs-add-knowledge-01.png" /></p>
<p>Azure AI Search 接続を構成:</p>
<ol>
<li><strong>Create new connection</strong>  </li>
<li>
<p>認証を設定  </p>
<ul>
<li><strong>Authentication type:</strong> Access Key  </li>
<li><strong>Azure AI Search Endpoint URL:</strong> 保存しておいた URL  </li>
<li><strong>Azure AI Search Admin Key:</strong> コピーしておいた admin key  </li>
</ul>
</li>
<li>
<p><strong>Create</strong> を選択 (成功すると緑のチェックマーク)  </p>
</li>
</ol>
<p><img alt="Azure AI Search 接続設定ダイアログ。認証タイプ、エンドポイント URL、admin key が入力されている。" src="../../../../../assets/images/make/copilot-studio-08/mcs-add-knowledge-02.png" /></p>
<p>ナレッジ ソース設定を完了:</p>
<ol>
<li>インデックス名 <code>resumes</code> (または作成時の名前) を選択  </li>
<li><strong>Add to agent</strong>  </li>
</ol>
<p><img alt="エージェントに追加するインデックスを選択する画面。" src="../../../../../assets/images/make/copilot-studio-08/mcs-add-knowledge-03.png" /></p>
<p>ナレッジ ソースがテーブルに「In progress」と表示されます。ステータスが「Ready」になるまで待ってから次へ進みます。</p>
<p><cc-end-step lab="mcs8" exercise="3" step="2" /></p>
<h2 id="exercise-4">Exercise 4: エージェントのテスト</h2>
<p>この演習では、RAG 対応エージェントをテストし、さまざまなクエリとユースケースを確認します。</p>
<h3 id="step-1_1">Step 1: 基本的なナレッジ取得のテスト</h3>
<p>まずは基本的な検索機能をテストし、インデックス化されたナレッジを正しく利用できるか確認します。</p>
<p>テスト パネルで次のクエリを実行:</p>
<pre><code class="language-text">Hello! Can you help me find candidates with software engineering experience?
</code></pre>
<pre><code class="language-text">I'm looking for candidates who speak multiple languages. Can you help?
</code></pre>
<pre><code class="language-text">Show me candidates with machine learning or AI experience.
</code></pre>
<p><img alt="テスト パネルで HR Knowledge Agent と会話し、ソフトウェア エンジニア候補について質問し、引用付きで詳細回答を得ている様子。" src="../../../../../assets/images/make/copilot-studio-08/mcs-agent-03.png" /></p>
<p>エージェントの動作:</p>
<ul>
<li>ベクトル検索でドキュメントを検索  </li>
<li>関連する候補者情報を提供  </li>
<li>出典ドキュメントへの引用を付与  </li>
<li>キーワード一致ではなく意味理解に基づいて応答  </li>
</ul>
<p><cc-end-step lab="mcs8" exercise="4" step="1" /></p>
<h3 id="step-2">Step 2: 複雑なクエリ シナリオのテスト</h3>
<p>RAG とベクトル検索の威力を示す高度なシナリオをテストします。</p>
<p>複数条件を組み合わせたクエリ例:</p>
<pre><code class="language-text">Find candidates suitable for a senior role that requires 5+ years of Python 
experience and fluency in Spanish
</code></pre>
<pre><code class="language-text">I need someone with both frontend and backend development skills. 
Who would be good for a full-stack position?
</code></pre>
<pre><code class="language-text">Can you recommend candidates for a data science position that requires 
experience with machine learning frameworks?
</code></pre>
<pre><code class="language-text">Who has project management experience combined with technical skills?
</code></pre>
<p><img alt="複雑な複数条件クエリでエージェントが候補者を提案し、市場洞察や推奨理由を提供する様子。" src="../../../../../assets/images/make/copilot-studio-08/mcs-agent-04.png" /></p>
<p>エージェントのポイント:</p>
<ul>
<li>複数の検索条件を知的に組み合わせ  </li>
<li>推薦理由を説明  </li>
<li>完全一致がない場合は代替案を提示  </li>
<li>候補者資格に関するコンテキストを提供  </li>
</ul>
<p><cc-end-step lab="mcs8" exercise="4" step="2" /></p>
<p><span style="font-size: large; font-weight: bold; color: #1c8fd2;">おめでとうございます！</span></p>
<p>ラボ MCS8 - RAG のための Azure AI Search 統合を完了しました！</p>
<p>このラボで学んだこと:</p>
<ul>
<li>企業ナレッジ管理向け Azure AI Search サービスの作成と構成  </li>
<li>埋め込みモデルを用いた統合ベクトル化でのベクトル検索インデックス構築  </li>
<li>Azure AI Search を Microsoft Copilot Studio のナレッジ ソースとして接続  </li>
<li>ドキュメント バックの会話を実現する RAG 対応エージェント設計  </li>
<li>さまざまなクエリでベクトル検索をテスト  </li>
</ul>
<p>HR Knowledge Agent により、会話型 AI と企業検索機能を組み合わせたパワーを体験できます。ユーザーは自然言語で組織ナレッジにアクセスし、実際のドキュメントに基づく正確で引用付きの回答を受け取れます。</p>
<p>今回学んだ RAG パターンは、カスタマー サポート ナレッジベース、技術文書、ポリシー &amp; 手順ガイドなど、大規模ドキュメント コレクションを会話インターフェイスで検索・理解するあらゆるシナリオに応用できます。</p>
<!-- <a href="../09-agent-to-agent">Start here</a> with Lab MCS9, to learn how to create agent to agent solutions in Copilot Studio.
<cc-next />  -->

<!-- <cc-award path="Make" /> -->

<p><img src="https://m365-visitor-stats.azurewebsites.net/copilot-camp/make/copilot-studio/08-rag--ja" /></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "toc.integrate", "content.code.copy"], "search": "../../../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../../../../../javascripts/cc-award.js"></script>
      
        <script src="../../../../../javascripts/cc-next.js"></script>
      
        <script src="../../../../../javascripts/cc-lab-step.js"></script>
      
        <script src="../../../../../javascripts/cc-card.js"></script>
      
    
  </body>
</html>