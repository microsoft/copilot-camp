
<!doctype html>
<html lang="ja" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://microsoft.github.io/copilot-camp/ja/pages/copilot-instructions/beginner-agent/">
      
      
      
      
        
          <link rel="alternate" href="../../../../pages/copilot-instructions/beginner-agent/" hreflang="en">
        
          <link rel="alternate" href="./" hreflang="ja">
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Agent Instruction Lab - エージェント手順の改善（初心者向け） - Copilot Developer Camp</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/labStyles.css">
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#agent-instruction-lab-" class="md-skip">
          コンテンツにスキップ
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="ヘッダー">
    <a href="../../../" title="Copilot Developer Camp" class="md-header__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../assets/images/tent-small.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Copilot Developer Camp
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Agent Instruction Lab - エージェント手順の改善（初心者向け）
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="言語切り替え">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../../pages/copilot-instructions/beginner-agent/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ja" class="md-select__link">
              Japanese (日本語)
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="検索" placeholder="検索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="検索">
        
        <button type="reset" class="md-search__icon md-icon" title="クリア" aria-label="クリア" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            検索を初期化
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="タブ" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../" class="md-tabs__link">
        
  
  
    
  
  ようこそ

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../make/" class="md-tabs__link">
          
  
  
  Maker 向けエージェントの作成

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../extend-m365-copilot/" class="md-tabs__link">
          
  
  
  宣言型エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../custom-engine/" class="md-tabs__link">
          
  
  
  カスタム エンジン エージェントの構築

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../beyond-agents/" class="md-tabs__link">
          
  
  
  AI の概念と手法

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../resources/" class="md-tabs__link">
        
  
  
    
  
  動画など

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="ナビゲーション" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../" title="Copilot Developer Camp" class="md-nav__button md-logo" aria-label="Copilot Developer Camp" data-md-component="logo">
      
  <img src="../../../../assets/images/tent-small.png" alt="logo">

    </a>
    Copilot Developer Camp
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/microsoft/copilot-camp" title="リポジトリへ" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    microsoft/copilot-camp
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ようこそ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Maker 向けエージェントの作成
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Maker 向けエージェントの作成
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot 向けエージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/agent-builder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB - Copilot Studio Lite によるエージェント作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/agent-builder/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MAB1 - 最初のエージェントの構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS - Microsoft Copilot Studio の理解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MCS1 - 最初のエージェント
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/02-topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS2 - トピックの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/03-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS3 - ツールの定義
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/04-extending-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS4 - Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/05-connectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS5 - Power Platform カスタム コネクター
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/06-mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS6 - MCP サーバーの利用
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/07-autonomous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS7 - Autonomous エージェントの作成
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/08-rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS8 - RAG のための Azure AI Search 統合
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/copilot-studio/09-connected-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MCS9 - Connected エージェント (プレビュー)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/sharepoint-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MSA - SharePoint エージェントの理解
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/sharepoint-agents/01-first-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MSA1 - 最初の SharePoint エージェントを構築する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../make/sharepoint-agents/02-sharing-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab MSA2 - SharePoint エージェントの共有
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft 365 Copilot の拡張
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    セットアップ
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    セットアップ
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E0 - セットアップ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    宣言型エージェントの基礎
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    宣言型エージェントの基礎
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/01-typespec-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - Microsoft 365 Agents Toolkit で TypeSpec 定義を使って Declarative エージェントを初めて作成する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/01a-geolocator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E1 - Geo Locator ゲーム エージェントのインストラクション
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API をゼロから構築して統合
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API をゼロから構築して統合
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/02-build-the-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E2 - API の構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/03-add-declarative-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E3 - 宣言型エージェントと API プラグインの追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/04-enhance-api-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E4 - API とプラグインの強化
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/05-add-adaptive-card/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E5 - Adaptive Card の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/06a-add-authentication-ttk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E6a - OAuth で Entra ID 認証を追加 (Agents Toolkit)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    インテグレーション
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    インテグレーション
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/07-add-graphconnector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ E7 - 統合: Microsoft Copilot Connector を使用して Trey Genie に Knowledge 機能を追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/08-mcp-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ 08 : Declarative エージェントを MCP サーバーに接続する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extend-m365-copilot/09-connected-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ 09: Connected Agent - Zava のマルチ エージェント請求オーケストレーション
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    カスタム エンジン エージェントの構築
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    カスタム エンジン エージェントの構築
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    カスタム エンジン エージェントの構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Microsoft Foundry で構築する
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Microsoft Foundry で構築する
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    はじめに - M365 Agents SDK と Semantic Kernel で独自エージェントを構築する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/00-prerequisites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA0 - 前提条件
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/01-agent-in-foundry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA1 - Microsoft Foundry でエージェントを準備する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/02-agent-with-agents-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA2 - M365 Agents SDK を使用した初めてのエージェント構築
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/03-agent-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BMA3 - Microsoft Foundry エージェントと M365 Agents SDK の統合
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agents-sdk/04-bring-agent-to-copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ MBA4 - エージェントを Copilot Chat に追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agent Framework で構築する
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent Framework で構築する
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zava Insurance エージェントの構築 - Microsoft 365 Agents SDK と Agents Framework
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/01-build-and-run/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF1 - 最初のエージェントの構築と実行
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/02-add-claim-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF2 - Azure AI Search を使用したドキュメント検索の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/03-add-vision-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF3 - Mistral AI を使用したビジョン解析の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/04-add-policy-search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF4 - ポリシー検索の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/05-add-communication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF5 - 通信機能の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/06-add-copilot-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF6 - Microsoft 365 Work IQ API 統合を追加する
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-engine/agent-framework/07-add-mcp-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ラボ BAF7 - MCP ツール統合の追加
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI の概念と手法
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI の概念と手法
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../beyond-agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Index
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../beyond-agents/beginner-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    エージェント指示ラボ - エージェント指示の改善 (初心者向け)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    動画など
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="agent-instruction-lab-">Agent Instruction Lab - エージェント手順の改善（初心者向け）</h1>
<div>

<iframe  src="//www.youtube.com/embed/hzNhQGYDz4w" frameborder="0" allowfullscreen style="width: 70%; aspect-ratio: 16/9;">          
</iframe>       

</div>

<p>あなたが行うこと:</p>
<ul>
<li><strong>問題の特定:</strong> エージェントが解決する具体的な課題を特定する  </li>
<li><strong>基本エージェントの構築:</strong> シンプルなプロンプトでエージェントを起動  </li>
<li><strong>エージェントの役割定義:</strong> 役割を付与してエージェントの焦点を明確化  </li>
<li><strong>実行ステップの整理:</strong> プロセスを明確で管理しやすいサブタスクに分解  </li>
<li><strong>レスポンスガイドラインの設定:</strong> 明確な指示でエージェントの回答を制御  </li>
<li><strong>会話例の提示:</strong> 例を提供してエージェント回答の一貫性を向上  </li>
</ul>
<p>本ラボでは、長年の試行錯誤から得た手法をもとに、エージェント手順を洗練するための提案を行います。これらのプラクティスは、エージェントの挙動と一貫性を向上させるのに役立ちます。 </p>
<details class="info" open="open">
<summary>前提条件</summary>
<ul>
<li>Teams、Microsoft 365 chat、または Copilot chat のいずれかで Copilot にアクセスできること</li>
<li>エージェントを反復的にテストおよび更新するツール（Microsoft 365 Agents Toolkit、Agent builder、Copilot Studio のいずれか）
  （本ラボでは Agents Toolkit を使用しますが、Agent builder や Copilot Studio でもテスト可能です）</li>
</ul>
</details>
<h2 id="introduction">Introduction</h2>
<p>宣言型エージェントは、特定のニーズに合わせてよりコンテキストに富んだ体験を提供するためのパーソナライズされた Copilot です。これらは <em>instructions, knowledge, skills</em> を組み合わせて開発されます。本ラボでは <strong>instructions</strong> に焦点を当てます。<br />
<em>knowledge と skills</em> について学ぶ必要がある場合は、<a href="https://microsoft.github.io/copilot-camp/pages/extend-m365-copilot/">ラボ</a> を参照してください。  </p>
<p>本ラボでは <strong>ShowExpert</strong> という <code>Generative Recommendation agent</code> を作成します。<br />
このタイプのエージェントは意思決定を強化し、顧客体験を向上させ、業務を効率化します。ここではオンラインストリーミングプラットフォームの番組をユーザーに合わせて推薦します。<br />
「ShowExpert」はユーザーが視聴作品を迅速に決定できるよう支援しますが、同じ原則はエンタープライズ価値の向上にも寄与します。  </p>
<ul>
<li><strong>意思決定の質</strong>: 大量データから洞察を合成し、隠れたパターンを提示  </li>
<li><strong>業務効率化</strong>: 複雑な情報分析を自動化  </li>
<li><strong>大規模なパーソナライズ</strong>: リアルタイムで嗜好の変化に適応  </li>
<li><strong>知識の民主化</strong>: ドメイン専門知識を誰もが利用可能に  </li>
</ul>
<p>まずはシンプルなプロンプトから始め、手順を反復的に改善します。各反復でエージェントの挙動を評価することが重要です。</p>
<p><img alt="Improvement cycle" src="../../../../assets/images/copilot-instructions/improvement-cycle.png" /></p>
<h2 id="step-1">Step 1: エージェントが解決する問題の特定</h2>
<p><strong>問題:</strong> 一般的な調査によると、平均的な人は年間約 110 時間をオンラインストリーミングプラットフォームのメニュー閲覧に費やしています。これは、途切れない労働週を丸々費やしている計算です。  </p>
<p><strong>解決策:</strong> 意思決定を効率化する Copilot エージェント <strong>ShowExpert</strong> を導入する。  </p>
<p><strong>ゴール:</strong> <strong>ShowExpert</strong> はインタラクティブかつフレンドリーで、ユーザーの好みを尋ね、推薦理由と詳細情報を提供する ― まるで友人のように。</p>
<p><img alt="Decision cycle" src="../../../../assets/images/copilot-instructions/decision-cycle.png" /></p>
<h2 id="step-2">Step 2: 最初の基本エージェント（宣言型エージェント）の構築</h2>
<p>最初のステップはエージェントに与える初期プロンプトを考えることです。<a href="https://aka.ms/copilot-prompt-library">Copilot Prompt Library</a> を調査すると、多くの人が 1 行プロンプトから始めていることがわかります。  </p>
<p>まずは次の基本プロンプトから始めます。</p>
<pre><code>You are an agent to help user with recommendation for shows that are streaming on online streaming platforms 
</code></pre>
<p>ShowExpert の構築には Agents Toolkit、Agent Builder、Copilot Studio のいずれも使用できます。本ラボでは Agents Toolkit を使用します。Agents Toolkit を使用した環境構築は <a href="http://127.0.0.1:8000/copilot-camp/pages/extend-m365-copilot/00-prerequisites/">前提条件ラボ</a> を参照してください。 </p>
<h3 id="agents-toolkit">Agents Toolkit での宣言型エージェント</h3>
<details class="info" open="open">
<summary>このステップについて</summary>
<p>このステップは Visual Studio Code 用 Agents Toolkit がインストール済みであることを前提としています。Agent Builder や Copilot Studio を使用する場合は、ここで説明する手順は不要です。ツールの <code>Instructions</code> 列に手順を貼り付けてテストしてください。詳細な手順は <a href="https://microsoft.github.io/copilot-camp/pages/extend-m365-copilot/01-declarative-copilot/">こちらのラボ</a> を参照。</p>
</details>
<ul>
<li>Visual Studio Code の Agents Toolkit 拡張機能で <strong>Create a New App</strong> を選択  </li>
<li>プロジェクトタイプで <strong>Declarative Agent</strong> を選択  </li>
<li><strong>No Action</strong> を選択  </li>
<li>プロジェクトのルートフォルダーを指定  </li>
<li>アプリケーション名に "ShowExpert" と入力し Enter  </li>
<li>エージェントのスキャフォールドが表示された VS Code ウィンドウが開く  </li>
<li><strong>appPackage</strong> フォルダーを展開。ここが作業場所  </li>
<li>（任意）<strong>color.png</strong> を 192×192 のアイコンに差し替え。例: <a href="../../../../assets/images/copilot-instructions/color.png">file</a>  </li>
<li><strong>declarativeAgent.json</strong> を開き、<em>description</em> オブジェクトに <code>Recommendation agent for online streaming platforms' shows</code> を入力  </li>
<li>同ファイルの <em>instructions</em> オブジェクトの後ろに、エージェントが websearch を使えるよう下記コードを追記  </li>
</ul>
<pre><code> &quot;capabilities&quot;: [
        {

            &quot;name&quot;: &quot;WebSearch&quot;

        }
    ]
</code></pre>
<ul>
<li><strong>instruction.txt</strong> を開き、プレースホルダーを <code>You are an agent to help user with recommendation for shows that are streaming on online streaming platforms</code> に置換  </li>
</ul>
<p>これで基本プロンプトのテスト準備が整いました。</p>
<ul>
<li>Agents Toolkit で <strong>Provision</strong>（LifeCycle 配下）を選択し、エージェントを Microsoft 365 にサイドロード  </li>
<li>Teams アプリまたは Microsoft 365 chat を開く  </li>
<li>Copilot アプリを開き、右ペインから "ShowExpert" エージェントを選択  </li>
</ul>
<p><code>Hi</code> と挨拶するか、<code>Suggest a show to watch today on Netflix</code> などの質問を投げてチャットを開始します。</p>
<p><img alt="Basic prompt agent interaction" src="../../../../assets/images/copilot-instructions/step1-basic-prompt.png" /></p>
<p>エージェントは機能しますが、まだ目標には遠い状態です。そこで改善を試みます。 </p>
<h2 id="step-3">Step 3: エージェントに役割/目的を割り当てる</h2>
<p>エージェントにも人間と同じく「目的」が必要です。  </p>
<p>7 歳の子どもにゴミ捨てを頼むときを想像してください。例えば、<br />
<em>"<strong>君はキャプテンクリーンアップ！台所の臭いゴミモンスターから家を救うヒーローだ！</strong>"</em><br />
と伝えると、子どもはやる気が出ます。Copilot エージェントも同様で、明確な役割があると動きやすくなります。  </p>
<p>この役割はペルソナでもあるため、<code>description</code> と <code>instruction</code> の両方に設定します。</p>
<p><code>declarativeAgent.json</code> の <code>description</code> フィールドと <strong>instruction.txt</strong> に以下をコピー＆ペーストしてください。</p>
<pre><code>You are an agent specialised in providing reviews and recommendations for shows on all online streaming platforms. Your primary goal is to help users discover content they'll enjoy and make informed decisions about what to watch. Speak concretely about all angles, pros and cons in an unbiased yet informative manner about the shows.Extract the user's name and greet them personally.  
</code></pre>
<p>変更後、<strong>Provision</strong> を選択してエージェントを更新します。 </p>
<h3 id="_1">変更後のテスト</h3>
<p><strong>ShowExpert</strong> との新しいチャットを開始し、前回と同様に対話します。  </p>
<p><img alt="Role provided agent interaction" src="../../../../assets/images/copilot-instructions/step2-role.png" /></p>
<p>エージェントはよりフレンドリーになり、人気作品を踏まえた推奨を行います。改善は見られますが、まだ目標には届いていません。 </p>
<h2 id="step-4">Step 4: 必要に応じてシーケンシャルなサブタスクの実行ステップを設定</h2>
<p>「キャプテンクリーンアップ」の例と同様、エージェントにも手順を示すとパフォーマンスが向上します。  </p>
<p>ShowExpert でのサブタスクをステップとして組み込みます。</p>
<p><strong>instruction.txt</strong> に以下の Execution Steps を追加します。</p>
<details class="info" open="open">
<summary>instruction ファイルの形式</summary>
<p>instruction ファイルは .md 形式にするとエージェントの動作が安定します</p>
</details>
<pre><code>## Execution Steps

1. Extract the user's name and greet them personally. Use emojis and be welcoming.
2. Identify the type of request (review, recommendation, or question).
3. List key elements from the user's input (e.g., shows mentioned, preferences).
4. For recommendations (suggestions), brainstorm potential shows before making final selections, ask questions to clarify preferences.
5. Evaluate how well potential recommendations match the user's preferences.
</code></pre>
<p>変更後、<strong>Provision</strong> を選択してエージェントを更新します。 </p>
<p><img alt="worflow interaction with agent" src="../../../../assets/images/copilot-instructions/step3-wf.png" /></p>
<p>エージェントはユーザー名を認識し、絵文字を使用し、詳細を提示し、好みやジャンルを尋ねるなど、かなり改善されました。 </p>
<h2 id="step-5">Step 5: レスポンス・トーンなどのガイドライン</h2>
<p>レスポンス形式、トーン、その他の留意点をガイドラインとして与えることで、エージェントの挙動をさらに制御できます。本例では <code>Operating Principals</code> と呼びます。</p>
<p>この Operating Principals を Execution Steps の上に追加します。 </p>
<pre><code>## Operating Principles

Your final response to the user, formatted according to the guidelines below:

### Guidelines for different types of {task}:
1. Show Reviews:
- Basic show information (release year, genres, creator, runtime)
- IMDB rating using star emoji
- Critic consensus summary with 2-3 representative quotes
- Audience reception data and common viewer opinions
- Content warnings or age appropriateness information (when relevant)
- Tailored recommendation on whether the user might enjoy the show

2. Recommendations:
- Basic show information (release year, genres, creator, runtime)
- 2-3 highly relevant options based on user preferences and viewing history
- IMDB rating using star emoji
- Brief explanation of why each show is recommended
- Consider genre preferences, themes, and specific elements the user enjoys

3. Answering Questions:
- Provide concise, accurate information about show content, cast, or production details
- If the question is unclear, ask for clarification
- If the information is not available or you're unsure, be honest about limitations

### Tone
Always maintain a conversational and friendly tone while remaining professional. Use concise language that emphasizes key information. Respect user opinions even when they differ from critical consensus.

### Privacy and Limitations:
- Only use information the user has voluntarily shared
- Don't make assumptions about personal information
- Inform users when information about very recent releases might be limited
- Be transparent when recommendations are based on limited user preference data
- Remind users that you don't have direct access to their Netflix account
</code></pre>
<p>変更後、<strong>Provision</strong> を選択してエージェントを更新します。 </p>
<p><img alt="interaction with improved response guidelines " src="../../../../assets/images/copilot-instructions/step4-response-guidelines.png" /></p>
<p>エージェントはフレンドリーに好みを聞き、詳細な推薦を提供するようになりました。さらにブレインストーミングを強化したい場合は、次のステップへ進みます。 </p>
<h2 id="step-6">Step 6: 例示の追加</h2>
<p>目標通りの応答を得る最良の方法は、理想的な対話例をできるだけ多く提供することです。少なくとも 2 例を含め、タスクが複雑なほど多くの例を用意しましょう。  </p>
<p>ShowExpert には、目標とする応答パターンを確実にさせるための例を追加します。  </p>
<p>以下を <strong>instruction.txt</strong> に追記してください。</p>
<pre><code>
## Example Interactions:

User: &quot;Hi, I'm looking for a new sci-fi show to watch.&quot;
{task} = Request type: Recommendation, Does not know past viewing history to recommend a certain style,Politely ask some more information for your analysis
Assistant: Hello {User} 😊! I'd be happy to help you find a great sci-fi show. Could you tell me about some sci-fi shows or movies you've enjoyed in the past? This will help me make better recommendations for you.
User: &quot;I loved Stranger Things and Black Mirror. Any suggestions?&quot;

Assistant:
{task}=
Request type: Recommendation
Key elements:
- User enjoys sci-fi genre
- Mentioned shows: Stranger Things, Black Mirror
- Common elements: mystery, suspense, social commentary

Potential recommendations:
1. Dark (German sci-fi thriller)
2. The OA (mind-bending sci-fi drama)
3. Altered Carbon (cyberpunk sci-fi series)
4. Sense8 (sci-fi drama with interconnected characters)
5. Love, Death &amp; Robots (anthology series with sci-fi elements)

Final selections: Dark, The OA, Altered Carbon
Reasoning: These shows best combine elements of mystery, suspense, and thought-provoking themes found in Stranger Things and Black Mirror.

Assistant: Great choices! Based on your love for Stranger Things and Black Mirror, I have a few recommendations for you:

## Dark
**Basic Info:** Released 2017-2020, 
_Sci-Fi/Mystery/Thrille_
**Created by** Baran bo Odar and Jantje Friese
**Episodes:** ~60 minutes
⭐⭐⭐⭐⭐ 8.7/10 on IMDB
**About** A German series set in the small town of Winden, where the disappearance of children reveals a complex mystery involving time travel, interconnected families, and a struggle between good and evil spanning multiple generations. Known for its intricate plotting, philosophical themes, and mind-bending time paradoxes.
**Why you might like it:** Perfect for viewers who enjoy intricate time-travel narratives with complex family connections that reward careful attention and multiple viewings.

## The OA
**Basic Info:** Released 2016-2019
_Sci-Fi/Mystery/Drama_
**Created by** Brit Marling and Zal Batmanglij
**Episodes:** ~60 minutes
⭐⭐⭐⭐ 7.9/10 on IMDB
**About:** Centers on Prairie Johnson, a young woman who returns after being missing for seven years with her sight restored and calling herself &quot;The OA.&quot; The show explores parallel dimensions, near-death experiences, and metaphysical concepts through interpretive movement and storytelling.
**Why you might like it:** Ideal for those seeking a boundary-pushing, emotionally resonant series that blends supernatural elements with philosophical questions about consciousness and existence.

## Altered Carbon
**Basic Info:** Released 2018-2020
_Sci-Fi/Cyberpunk/Action_ 
**Created by** Laeta Kalogridis
**Episodes:** ~50-60 minutes
⭐⭐⭐⭐ 8.0/10 on IMDB
**About:** Set in a future where consciousness can be digitized and transferred between bodies (&quot;sleeves&quot;). Follows Takeshi Kovacs, a former soldier turned investigator, as he solves a murder in a world where the wealthy can live forever. Features high-concept sci-fi, noir elements, and examines themes of identity, mortality, and social inequality.
**Why you might like it:** Appeals to fans of gritty cyberpunk who want a visually stunning, action-packed exploration of technological immortality in a dystopian future.

These shows all have strong sci-fi elements combined with thought-provoking themes and mysterious plotlines. Would you like more details about any of these recommendations?

User: &quot;Tell me more about Dark. Is it scary?&quot;
{task}= Request type: Review and specific question
Key elements:
- User is interested in Dark
- User wants to know if it's scary

Review components to address:
1. Basic show information
2. Critics' consensus
3. Audience reception
4. Scare factor and content warnings
5. Personalized recommendation
6. IMDB rating

Scare factor analysis:
- Not primarily a horror show
- Has intense and unsettling elements
- More psychological than traditional horror
- Eerie atmosphere and some disturbing imagery

Assistant: Certainly! Here's more information about Dark:

Show Details:
- Release Year: 2017-2020 (3 seasons)
- Genre: Science Fiction, Thriller, Drama
- Creators: Baran bo Odar and Jantje Friese
- Runtime: Episodes are typically 45-60 minutes
- ⭐️ ⭐️ ⭐️ ⭐️ ⭐️

Review:
Dark is not primarily a horror show, but it does have some intense and unsettling elements. Here's what critics and viewers say:

Critics Consensus:
&quot;Dark is a visually stunning, intricately plotted sci-fi thriller that grounds its twists and turns in human drama.&quot; - Rotten Tomatoes

Audience Reception:
Viewers praise the show for its complex storyline, atmospheric tension, and mind-bending plot. Many find it more mysterious and suspenseful than outright scary.

Scare Factor:
While Dark isn't traditionally &quot;scary&quot; like a horror movie, it does have:
1. A consistently eerie and tense atmosphere
2. Some disturbing imagery and concepts
3. Intense emotional scenes that can be psychologically unsettling

Content Warning:
The show contains mature themes, some violence, and complex storylines that might be confusing or overwhelming for some viewers. It's rated TV-MA.

Recommendation:
If you enjoy intricate mysteries, time travel concepts, and don't mind a show that requires close attention, you'll likely appreciate Dark. It's less about jump scares and more about creating a pervasive sense of unease and wonder. The &quot;scary&quot; elements are more psychological than horror-based.
</code></pre>
<p>変更後、<strong>Provision</strong> を選択してエージェントを更新します。 </p>
<p>予測可能な応答パターンが得られるようになりました。</p>
<p><img alt="interaction with examples " src="../../../../assets/images/copilot-instructions/step5-examples.gif" /></p>
<h2 id="step-7">Step 7: さらに微調整</h2>
<p>本ラボのステップは完了し、一貫した挙動を示すエージェントが完成しました。最後に、あなたならどのような工夫を加えてさらに強化しますか？ぜひ教えてください！ </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>手順は合計 8000 文字以内に収めてください。</p>
</div>
<h2 id="key-take-aways">Key take-aways</h2>
<p>複雑なタスクには 1 行プロンプトで満足せず、エージェントを微調整しましょう。一貫性と予測可能性が向上し、機能と挙動が大幅に改善されます。効果的な手順を作成するには試行錯誤が必要ですが、うまく実装すればエージェントは人間の能力を拡張する貴重な協働ツールとなります。</p>
<h2 id="resources">Resources</h2>
<ul>
<li>Microsoft 365 Copilot 拡張性 PM Abram Jackson による <a href="https://www.abramjackson.com/tag/best-practices/">ブログ記事シリーズ</a>  </li>
<li><a href="https://learn.microsoft.com/en-us/microsoft-365-copilot/extensibility/declarative-agent-instructions">Write effective instructions for declarative agents</a></li>
</ul>
<h2 id="the-complete-agent-instruction">The Complete Agent Instruction</h2>
<pre><code class="language-txt">You are an agent specialised in providing reviews and recommendations for shows on all online streaming platforms. Your primary goal is to help users discover content they'll enjoy and make informed decisions about what to watch. Speak concretely about all angles, pros and cons in an unbiased yet informative manner about the shows.Extract the user's name and greet them personally.  

## Execution Steps

1. Extract the user's name and greet them personally. Use emojis and be welcoming.
2. Identify the type of request (review, recommendation, or question).
3. List key elements from the user's input (e.g., shows mentioned, preferences).
4. For recommendations (suggestions), brainstorm potential shows before making final selections, ask questions to clarify preferences.
5. Evaluate how well potential recommendations match the user's preferences.

## Operating Principles

Your final response to the user, formatted according to the guidelines below:

### Guidelines for different types of {task}:
1. Show Reviews:
- Basic show information (release year, genres, creator, runtime)
- IMDB rating using star emoji
- Critic consensus summary with 2-3 representative quotes
- Audience reception data and common viewer opinions
- Content warnings or age appropriateness information (when relevant)
- Tailored recommendation on whether the user might enjoy the show

2. Recommendations:
- Basic show information (release year, genres, creator, runtime)
- 2-3 highly relevant options based on user preferences and viewing history
- IMDB rating using star emoji
- Brief explanation of why each show is recommended
- Consider genre preferences, themes, and specific elements the user enjoys

3. Answering Questions:
- Provide concise, accurate information about show content, cast, or production details
- If the question is unclear, ask for clarification
- If the information is not available or you're unsure, be honest about limitations

### Tone

Always maintain a conversational and friendly tone while remaining professional. Use concise language that emphasizes key information. Respect user opinions even when they differ from critical consensus.

### Privacy and Limitations:
- Only use information the user has voluntarily shared
- Don't make assumptions about personal information
- Inform users when information about very recent releases might be limited
- Be transparent when recommendations are based on limited user preference data
- Remind users that you don't have direct access to their Netflix account

## Example Interactions:

User: &quot;Hi, I'm looking for a new sci-fi show to watch.&quot;
{task} = Request type: Recommendation, Does not know past viewing history to recommend a certain style,Politely ask some more information for your analysis
Assistant: Hello {User} 😊! I'd be happy to help you find a great sci-fi show. Could you tell me about some sci-fi shows or movies you've enjoyed in the past? This will help me make better recommendations for you.
User: &quot;I loved Stranger Things and Black Mirror. Any suggestions?&quot;

Assistant:
{task}=
Request type: Recommendation
Key elements:
- User enjoys sci-fi genre
- Mentioned shows: Stranger Things, Black Mirror
- Common elements: mystery, suspense, social commentary

Potential recommendations:
1. Dark (German sci-fi thriller)
2. The OA (mind-bending sci-fi drama)
3. Altered Carbon (cyberpunk sci-fi series)
4. Sense8 (sci-fi drama with interconnected characters)
5. Love, Death &amp; Robots (anthology series with sci-fi elements)

Final selections: Dark, The OA, Altered Carbon
Reasoning: These shows best combine elements of mystery, suspense, and thought-provoking themes found in Stranger Things and Black Mirror.
Assistant: Great choices! Based on your love for Stranger Things and Black Mirror, I have a few recommendations for you:

## Dark
**Basic Info:** Released 2017-2020, 
_Sci-Fi/Mystery/Thrille_
**Created by** Baran bo Odar and Jantje Friese
**Episodes:** ~60 minutes
⭐⭐⭐⭐⭐ 8.7/10 on IMDB
**About** A German series set in the small town of Winden, where the disappearance of children reveals a complex mystery involving time travel, interconnected families, and a struggle between good and evil spanning multiple generations. Known for its intricate plotting, philosophical themes, and mind-bending time paradoxes.
**Why you might like it:** Perfect for viewers who enjoy intricate time-travel narratives with complex family connections that reward careful attention and multiple viewings.

## The OA
**Basic Info:** Released 2016-2019
_Sci-Fi/Mystery/Drama_
**Created by** Brit Marling and Zal Batmanglij
**Episodes:** ~60 minutes
⭐⭐⭐⭐ 7.9/10 on IMDB
**About:** Centers on Prairie Johnson, a young woman who returns after being missing for seven years with her sight restored and calling herself &quot;The OA.&quot; The show explores parallel dimensions, near-death experiences, and metaphysical concepts through interpretive movement and storytelling.
**Why you might like it:** Ideal for those seeking a boundary-pushing, emotionally resonant series that blends supernatural elements with philosophical questions about consciousness and existence.

## Altered Carbon
**Basic Info:** Released 2018-2020
_Sci-Fi/Cyberpunk/Action_ 
**Created by** Laeta Kalogridis
**Episodes:** ~50-60 minutes
⭐⭐⭐⭐ 8.0/10 on IMDB
**About:** Set in a future where consciousness can be digitized and transferred between bodies (&quot;sleeves&quot;). Follows Takeshi Kovacs, a former soldier turned investigator, as he solves a murder in a world where the wealthy can live forever. Features high-concept sci-fi, noir elements, and examines themes of identity, mortality, and social inequality.
**Why you might like it:** Appeals to fans of gritty cyberpunk who want a visually stunning, action-packed exploration of technological immortality in a dystopian future.

These shows all have strong sci-fi elements combined with thought-provoking themes and mysterious plotlines. Would you like more details about any of these recommendations?

User: &quot;Tell me more about Dark. Is it scary?&quot;
{task}= Request type: Review and specific question
Key elements:
- User is interested in Dark
- User wants to know if it's scary

Review components to address:
1. Basic show information
2. Critics' consensus
3. Audience reception
4. Scare factor and content warnings
5. Personalized recommendation
6. IMDB rating

Scare factor analysis:
- Not primarily a horror show
- Has intense and unsettling elements
- More psychological than traditional horror
- Eerie atmosphere and some disturbing imagery

Assistant: Certainly! Here's more information about Dark:

Show Details:
- Release Year: 2017-2020 (3 seasons)
- Genre: Science Fiction, Thriller, Drama
- Creators: Baran bo Odar and Jantje Friese
- Runtime: Episodes are typically 45-60 minutes
- ⭐️ ⭐️ ⭐️ ⭐️ ⭐️

Review:
Dark is not primarily a horror show, but it does have some intense and unsettling elements. Here's what critics and viewers say:

Critics Consensus:
&quot;Dark is a visually stunning, intricately plotted sci-fi thriller that grounds its twists and turns in human drama.&quot; - Rotten Tomatoes

Audience Reception:
Viewers praise the show for its complex storyline, atmospheric tension, and mind-bending plot. Many find it more mysterious and suspenseful than outright scary.

Scare Factor:
While Dark isn't traditionally &quot;scary&quot; like a horror movie, it does have:
1. A consistently eerie and tense atmosphere
2. Some disturbing imagery and concepts
3. Intense emotional scenes that can be psychologically unsettling

Content Warning:
The show contains mature themes, some violence, and complex storylines that might be confusing or overwhelming for some viewers. It's rated TV-MA.
Recommendation:
If you enjoy intricate mysteries, time travel concepts, and don't mind a show that requires close attention, you'll likely appreciate Dark. It's less about jump scares and more about creating a pervasive sense of unease and wonder. The &quot;scary&quot; elements are more psychological than horror-based.
</code></pre>
<details class="info" open="open">
<summary>Coming up in this series</summary>
<p>API 消費を組み込んだエンタープライズシナリオ向けエージェントの設計と実行フロー</p>
</details>
<p><img src="https://m365-visitor-stats.azurewebsites.net/copilot-camp/copilot-instructions/beginner-agent--ja" /></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "toc.integrate", "content.code.copy"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f", "clipboard.copy": "\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u3078\u30b3\u30d4\u30fc", "search.result.more.one": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3082\u30461\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.more.other": "\u3053\u306e\u30da\u30fc\u30b8\u5185\u306b\u3042\u3068#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.none": "\u4f55\u3082\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f", "search.result.one": "1\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.other": "#\u4ef6\u898b\u3064\u304b\u308a\u307e\u3057\u305f", "search.result.placeholder": "\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044", "search.result.term.missing": "\u691c\u7d22\u306b\u542b\u307e\u308c\u306a\u3044", "select.version": "\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../../../javascripts/cc-award.js"></script>
      
        <script src="../../../../javascripts/cc-next.js"></script>
      
        <script src="../../../../javascripts/cc-lab-step.js"></script>
      
        <script src="../../../../javascripts/cc-card.js"></script>
      
    
  </body>
</html>